{$_modx->runSnippet('!msOptionsPrice.initialize')}


<h1>{$_modx->resource.pagetitle}</h1>
<div class="product-descr">
    <form class="ms2_form msoptionsprice-product" method="post">
        <input type="hidden" name="pm">
        <input type="hidden" name="id" value="{$_modx->resource.id}"/>
        <input type="number" name="count" id="product_price" class="hidden" value="1"/>
        <div class="product-descr-row uibox-row product-row-first">
            <div class="product-col">
                <div class="options led">
                    <div class="options-title">{'product_option_lamps_title' | lexicon}</div>
                    {$_modx->runSnippet('!getProductOptions', [
                        'onlyOption' => 'lamps_count',
                        'tpl' => '@FILE chunks/product/productOptions.html',
                        'constraintOptions' => ['operating_mode','colors', 'wire_color'],
                    ])}
                </div>
            </div>
            <div class="product-col">
                <div class="stock-info">
                    {if $instock ?}
                        <div class="stock-info-row stock instock">{'product_label_instock' | lexicon}</div>
                    {else}
                        <div class="stock-info-row stock primary-text">{'product_label_outstock' | lexicon}</div>
                    {/if}
                    <div class="stock-info-row article">
                        <span class="info-label">{'product_label_article' | lexicon}: </span>
                        <span class="info-value">{$article}</span>
                    </div>
                    <div class="stock-info-row vendor">
                        <span class="info-label">{'product_label_vendor' | lexicon}: </span>
                        <span class="info-value">{$_modx->getPlaceholder('vendor.name')}</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="product-descr-row uibox-row">
            <div class="product-col">
                <div class="options colors">
                    <div class="options-title">{'product_option_colors_title' | lexicon}</div>
                    {$_modx->runSnippet('!getProductOptions', [
                        'onlyOption' => 'colors',
                        'tpl' => '@FILE chunks/product/productOptionsColors.html',
                        'constraintOptions' => ['operating_mode','lamps_count', 'wire_color'],
                    ])}
                </div>
            </div>
            <div class="product-col">
                <div class="options led">
                    <div class="options-title">{'product_option_wire_colors_title' | lexicon}</div>
                    {$_modx->runSnippet('!getProductOptions', [
                        'onlyOption' => 'wire_color',
                        'tpl' => '@FILE chunks/product/productOptionsWire.html',
                        'constraintOptions' => ['operating_mode','colors', 'lamps_count'],
                    ])}
                </div>
            </div>
        </div>
        <div class="product-descr-row uibox-row">
            <div class="product-col">
                <div class="options led">
                    <div class="options-title">{'product_option_operating_mode_title' | lexicon}</div>
                        {$_modx->runSnippet('!getProductOptions', [
                            'onlyOption' => 'operating_mode',
                            'tpl' => '@FILE chunks/product/productOptions.html',
                            'constraintOptions' => ['wire_color','colors', 'lamps_count'],
                        ])}
                </div>
            </div>
        </div>
        <div class="product-descr-row uibox-row product-actions-row">
            <div class="price-wrap">
                <span class="price msoptionsprice-cost msoptionsprice-[[*id]]">{$price}</span>
                <span class="currency">{'ms2_frontend_currency' | lexicon}</span>
            </div>
            <div class="product-actions">
                <button class="add-cart-btn btn btn-primary primary small" name="ms2_action" value="cart/add">{'btn_buy_title' | lexicon}</button>
                <div class="fast-order">
                    <div class="fast-order-form">
                        <div class="form-group">
                            <label class="form-label">{'form_label_phone_2' | lexicon}</label>
                            <input type="text" name="phone" class="fast-order-input input-text outlined empty-field" placeholder="+380 (__) ___-____">
                            <div class="error-msg"></div>
                        </div>
                        <button type="button" class="one-click-btn btn btn-outlined">{'btn_one_click_buy_title' | lexicon}</button>
                    </div>
                </div>
                
            </div>
        </div>
    </form>
</div>